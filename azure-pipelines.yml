jobs:
- job: linux
  pool:
    vmImage: 'ubuntu-latest'
  strategy:
    matrix:
      cabal-8.6.5:
        GHCVER: 8.6.5
        CABALVER: 2.4
      cabal-8.8.1:
        GHCVER: 8.8.1
        CABALVER: 3.0
  steps:
  - script: |
      set -ex
      sudo update-alternatives --set opt-ghc /opt/ghc/bin/ghc-${GHCVER}
      sudo update-alternatives --set opt-cabal /opt/cabal/bin/cabal-${CABALVER}
      ghc --version
      cabal --version
      cabal v2-test --test-show-details=direct ucd:ucd-test-xml ucd:ucd-test-inspection
